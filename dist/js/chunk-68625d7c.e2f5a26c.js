(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-68625d7c"],{"02f4":function(t,e,n){var i=n("4588"),s=n("be13");t.exports=function(t){return function(e,n){var r,c,a=String(s(e)),o=i(n),l=a.length;return o<0||o>=l?t?"":void 0:(r=a.charCodeAt(o),r<55296||r>56319||o+1===l||(c=a.charCodeAt(o+1))<56320||c>57343?t?a.charAt(o):r:t?a.slice(o,o+2):c-56320+(r-55296<<10)+65536)}}},"16c0":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"home",staticClass:"home"},[n("nav",[n("h2",{staticClass:"title"},[t._v("沐雪music")]),n("search-bar")],1),n("div",{staticClass:"scroll-wrapper"},[n("Scroll",{ref:"scrolls",staticClass:"scroll",attrs:{data:t.recommendSongs}},[n("div",{staticClass:"recommend"},[this.banners&&this.banners.length?n("div",{staticClass:"slides"},[n("slide",{attrs:{autoPlay:!0,interval:3e3,loop:!0}},t._l(t.banners,function(t){return n("div",{key:t.imageUrl,staticClass:"slide-item"},[n("img",{staticClass:"slide-img",attrs:{src:t.imageUrl,alt:""}})])}))],1):t._e(),n("div",{staticClass:"recommendSongs"},[n("recommend-list",{attrs:{list:t.recommendSongs},on:{setDiscList:t.handleDisc}})],1),n("div",{staticClass:"newSongs"},[n("recommend-list",{attrs:{list:t.newDiscs,title:"最新歌单"},on:{setDiscList:t.handleDisc}})],1)])])],1),n("router-view",{ref:"musicList",attrs:{title:t.title,picUrl:t.picUrl,songs:t.songs,id:t.discId},on:{select:t.selectItem,play:t.playAll}})],1)},s=[];function r(t){if(Array.isArray(t))return t}function c(t,e){var n=[],i=!0,s=!1,r=void 0;try{for(var c,a=t[Symbol.iterator]();!(i=(c=a.next()).done);i=!0)if(n.push(c.value),e&&n.length===e)break}catch(o){s=!0,r=o}finally{try{i||null==a["return"]||a["return"]()}finally{if(s)throw r}}return n}function a(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function o(t,e){return r(t)||c(t,e)||a()}n("ac6a"),n("5df3"),n("7f7f");var l=n("be94"),u=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"slide",staticClass:"slide"},[n("div",{ref:"slideGroup",staticClass:"slide-group"},[t._t("default")],2),n("div",{staticClass:"dots"},t._l(t.dots,function(e,i){return n("span",{key:i,staticClass:"dot",class:{active:t.currentIndex===i}})}))])},d=[],f=(n("c5f6"),n("1fba")),h={name:"",components:{},props:{loop:{type:Boolean,default:!0},autoPlay:{type:Boolean,default:!0},interval:{type:Number,default:4e3}},data:function(){return{dots:[],currentIndex:0}},watch:{},computed:{},methods:{initDots:function(){this.dots=new Array(this.children.length)},setSlideWidth:function(t){this.children=this.$refs.slideGroup.children;for(var e=0,n=this.$refs.slide.clientWidth,i=0;i<this.children.length;i++){var s=this.children[i];s.style.width=n+"px",e+=n}this.loop&&!t&&(e+=2*n),this.$refs.slideGroup.style.width=e+"px"},initSlide:function(){this.slideScroll=new f["a"](this.$refs.slide,{scrollX:!0,scrollY:!1,momentum:!1,snap:{loop:this.loop,threshold:.3,speed:400},bounce:!0}),this.onScrollEnd(),this.onTouchEnd(),this.onBeforeScrollStart()},onScrollEnd:function(){var t=this;this.slideScroll.on("scrollEnd",function(){var e=t.slideScroll.getCurrentPage().pageX;t.currentIndex=e,t.autoPlay&&t.play()})},onTouchEnd:function(){var t=this;this.slideScroll.on("touchEnd",function(){t.autoPlay&&t.play()})},onBeforeScrollStart:function(){var t=this;this.slideScroll.on("beforeScrollStart",function(){t.autoPlay&&clearTimeout(t.timer)})},play:function(){var t=this;this.timer&&clearTimeout(this.timer),this.timer=setTimeout(function(){t.slideScroll.next()},this.interval)}},created:function(){},mounted:function(){var t=this;setTimeout(function(){t.setSlideWidth(),t.initDots(),t.initSlide(),t.autoPlay&&t.play()},20),window.addEventListener("resize",function(){t.slideScroll&&(t.setSlideWidth(!0),t.slideScroll.refresh())})}},m=h,p=(n("85f1"),n("2877")),v=Object(p["a"])(m,u,d,!1,null,"638bec07",null);v.options.__file="Slide.vue";var g=v.exports,b=n("42ba"),y=n("3ce5"),S=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"recommend"},[n("h2",{staticClass:"title",on:{click:t.handleClick}},[n("span",[t._v(t._s(t.title))]),n("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[n("use",{attrs:{"xlink:href":"#icon-right"}})])]),n("ul",{staticClass:"list-wrapper"},t._l(t.list,function(e){return n("li",{key:e.id,staticClass:"list",on:{click:function(n){t.selectItem(e)}}},[n("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.picUrl?e.picUrl:e.coverImgUrl,expression:"item.picUrl ? item.picUrl : item.coverImgUrl"}],staticClass:"pic",attrs:{alt:""}}),n("p",{staticClass:"name"},[t._v(t._s(e.name))]),n("div",{staticClass:"number"},[n("svg",{staticClass:"icon i-count",attrs:{"aria-hidden":"true"}},[n("use",{attrs:{"xlink:href":"#icon-music"}})]),n("div",{staticClass:"count"},[t._v(t._s(t._f("setCount")(e.playCount)))])])])}))])},w=[],C={name:"",components:{},filters:{setCount:function(t){return t<1e4?"<1万":"".concat(Math.ceil(t/1e4),"万")}},props:{list:{type:Array,default:function(){return[]}},title:{type:String,default:"推荐歌单"}},data:function(){return{}},watch:{},computed:{},methods:{handleClick:function(){this.$router.push({path:"/songslist"})},selectItem:function(t){this.$emit("setDiscList",t)}},created:function(){},mounted:function(){}},_=C,k=(n("e911"),Object(p["a"])(_,S,w,!1,null,"71d2b1da",null));k.options.__file="RecommendList.vue";var D=k.exports,j=n("2f62"),O=n("76f3"),x=n("0712"),I={name:"home",components:{Slide:g,Scroll:y["a"],RecommendList:D,SearchBar:O["a"]},mixins:[x["d"]],props:{},data:function(){return{banners:[],recommendSongs:[],newDiscs:[],songs:[],list:[]}},watch:{},computed:Object(l["a"])({},Object(j["c"])(["isLogin"]),{title:function(){return this.list.name},picUrl:function(){return this.list.coverImgUrl},discId:function(){return this.list.id},allData:function(){return this.banners.concat(this.newDiscs,this.recommendSongs)}}),methods:{handleDisc:function(t){var e=this;this.$router.push({path:"/home/".concat(t.id)}),b["a"].getDisc(t.id).then(function(t){e.setList(t)})},getAllRecommend:function(){var t,e=b["a"].getBanner();t=this.isLogin?b["a"].getResource():b["a"].getRecommendSongs();var n=b["a"].getNewDisc();return Promise.all([e,t,n])},setAllRecommend:function(t){var e=o(t,3),n=e[0],i=e[1],s=e[2];this.setBanner(n),this.setRecommendSongs(i),this.setNewDisc(s)},setBanner:function(t){this.banners=t.banners},setRecommendSongs:function(t){this.isLogin?this.recommendSongs=t.recommend:this.recommendSongs=t.result},setNewDisc:function(t){this.newDiscs=t.playlists}},activated:function(){this.$refs.scrolls.refresh()},created:function(){var t=this;this.getAllRecommend().then(function(e){t.setAllRecommend(e)})}},L=I,A=(n("5c9e"),Object(p["a"])(L,i,s,!1,null,"280c7364",null));A.options.__file="index.vue";e["default"]=A.exports},4127:function(t,e,n){},"42ba":function(t,e,n){"use strict";var i=n("d4ec"),s=n("bee2"),r=n("e1d2"),c=function(){function t(){Object(i["a"])(this,t)}return Object(s["a"])(t,null,[{key:"getBanner",value:function(){return Object(r["a"])("banner")}},{key:"getRecommend",value:function(){return Object(r["a"])("recommend")}},{key:"getRecommendSongs",value:function(){return Object(r["a"])("personalized",{params:{limit:6}})}},{key:"getNewSong",value:function(){return Object(r["a"])("newSong",{})}},{key:"getDisc",value:function(t){return Object(r["a"])("disc",{params:{id:t}})}},{key:"getNewDisc",value:function(){return Object(r["a"])("newDisc",{params:{order:"new",limit:6}})}},{key:"getResource",value:function(){return Object(r["a"])("resource",{params:{limit:6}})}},{key:"getAllSongList",value:function(t,e,n){return Object(r["a"])("newDisc",{params:{limit:10,cat:t,offset:e,order:n}})}},{key:"getCatList",value:function(){return Object(r["a"])("catList")}},{key:"getComment",value:function(t,e){return Object(r["a"])("comment",{params:{id:t,offset:e}})}}]),t}();e["a"]=c},"5c9e":function(t,e,n){"use strict";var i=n("f44a"),s=n.n(i);s.a},"5df3":function(t,e,n){"use strict";var i=n("02f4")(!0);n("01f9")(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=i(e,n),this._i+=t.length,{value:t,done:!1})})},"76f3":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"search-bar"},[n("input",{staticClass:"input",attrs:{type:"text",placeholder:t.placeholder},on:{click:t.clickInput}}),n("svg",{staticClass:"icon souso",attrs:{"aria-hidden":"true"}},[n("use",{attrs:{"xlink:href":"#icon-sousuo"}})])])},s=[],r=n("be94"),c=n("2f62"),a={name:"",components:{},props:{placeholder:{type:String,default:"搜歌手，搜歌曲"}},data:function(){return{}},watch:{},computed:Object(r["a"])({},Object(c["c"])(["showFooter","query"])),methods:{clickInput:function(){this.$router.push({path:"/search"})}}},o=a,l=(n("81d7"),n("2877")),u=Object(l["a"])(o,i,s,!1,null,"71b1e043",null);u.options.__file="SearchNav.vue";e["a"]=u.exports},"81d7":function(t,e,n){"use strict";var i=n("dbbc"),s=n.n(i);s.a},"85f1":function(t,e,n){"use strict";var i=n("4127"),s=n.n(i);s.a},dbbc:function(t,e,n){},e911:function(t,e,n){"use strict";var i=n("f19a"),s=n.n(i);s.a},f19a:function(t,e,n){},f44a:function(t,e,n){}}]);
//# sourceMappingURL=chunk-68625d7c.e2f5a26c.js.map